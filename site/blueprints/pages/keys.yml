title: Transponder
icon: key
options:
  changeStatus: false

tabs:
  content:
    label: Inhalt
    columns:
      - width: 2/3
        sections:
          fields:
            type: fields
            fields:
              cover:
                extends: fields/cover
                label: Bild
                help: Hauptbild für die Schlüssel-Übersicht

              title:
                label: Titel
                type: text
                default: Transponder

              headline:
                label: Überschrift
                type: text
                placeholder: z.B. "Schlüsselverwaltung"

              subheadline:
                label: Untertitel
                type: text
                placeholder: z.B. "Zugänge & Berechtigungen"

              description:
                label: Einleitung
                type: blocks
                fieldsets:
                  - heading
                  - text
                  - list
                help: Einleitungstext für die Schlüssel-Seite

              lending_info:
                label: Ausleihinformationen
                type: blocks
                fieldsets:
                  - heading
                  - text
                  - list
                help: Hinweise zur Schlüsselvergabe (Zeiten, Regeln etc.)


      - width: 1/3
        sections:
          info:
            type: info
            label: Hinweis
            theme: positive
            text: |
              **Schlüssel verwalten**

              Jeder Schlüssel wird als Unterseite mit dem Template **key** angelegt.

              **Anfragen**

              Ausleihanfragen findest du im Tab **Anfragen**.

  keys:
    label: Schlüssel
    icon: lock
    columns:
      - width: 1/1
        sections:
          keys_list:
            type: pages
            label: Verfügbare Schlüssel
            template: key
            status: all
            layout: cards
            size: medium
            image:
              query: page.cover.toFile
              cover: true
              ratio: 3/2
            info: "{{ page.access_area }}"
            empty: Noch keine Schlüssel angelegt

  requests:
    label: Anfragen
    icon: email
    columns:
      - width: 1/1
        sections:
          key_requests:
            type: pages
            label: Schlüsselausleihen
            parent: site.find('keys/requests')
            template: key-request
            status: all
            layout: list
            info: "{{ page.requester_name }} – {{ page.request_date.toDate('d.m.Y') }}"
            empty: Keine Anfragen vorhanden

  settings:
    label: Einstellungen
    icon: settings
    columns:
      - width: 1/2
        sections:
          lending_settings:
            type: fields
            fields:
              max_lending_days:
                label: Max. Ausleihdauer (Tage)
                type: number
                default: 7
                min: 1
                max: 90

              require_approval:
                label: Freigabe erforderlich
                type: toggle
                default: true
                text:
                  - Nein
                  - Ja

      - width: 1/2
        sections:
          notification_settings:
            type: fields
            fields:
              notification_email:
                label: Benachrichtigungs-E-Mail
                type: email
